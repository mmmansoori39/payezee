"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[44],{1103:function(e,n,t){var r=t(1413),a=t(5586),s=t(845),i=t(8993),c=t(297),o=t(6360),l=t(7094),u=t(5521),d=t(5549),h=t(1237),x=t(3216),m=t(1396),p=t(4320),f=t(8910),j=t(4722),b=t(3398),g=t(2814),v=t(5110),Z=t(6417);n.Z=function(e){var n=e.columns,t=e.data,C=(0,v.useTable)({columns:n,data:t,initialState:{pageIndex:0}},v.usePagination),P=C.getTableProps,k=C.getTableBodyProps,y=C.headerGroups,E=C.prepareRow,w=C.page,I=C.canPreviousPage,S=C.canNextPage,A=C.pageOptions,N=C.pageCount,O=C.gotoPage,M=C.nextPage,T=C.previousPage,z=C.setPageSize,D=C.state,F=D.pageIndex,R=D.pageSize;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(o.i,(0,r.Z)((0,r.Z)({},P()),{},{fontSize:"14px",children:[(0,Z.jsx)(l.h,{children:y.map((function(e,n){return(0,Z.jsx)(u.Tr,(0,r.Z)((0,r.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e,t){return(0,Z.jsx)(d.Th,(0,r.Z)((0,r.Z)({},e.getHeaderProps()),{},{children:e.render("Header")}),n+""+t)}))}),n)}))}),(0,Z.jsx)(h.p,(0,r.Z)((0,r.Z)({},k()),{},{children:w.map((function(e,n){return E(e),(0,Z.jsx)(u.Tr,(0,r.Z)((0,r.Z)({},e.getRowProps()),{},{children:e.cells.map((function(e,n){return(0,Z.jsx)(x.Td,(0,r.Z)((0,r.Z)({},e.getCellProps()),{},{children:e.render("Cell")}),n)}))}),n)}))}))]})),(0,Z.jsxs)(m.k,{justifyContent:"space-between",m:4,alignItems:"center",fontSize:"14px",children:[(0,Z.jsxs)(m.k,{children:[(0,Z.jsx)(p.u,{label:"First Page",children:(0,Z.jsx)(f.h,{h:"30px",onClick:function(){return O(0)},isDisabled:!I,icon:(0,Z.jsx)(a.Y,{h:3,w:3}),mr:4})}),(0,Z.jsx)(p.u,{label:"Previous Page",children:(0,Z.jsx)(f.h,{h:"30px",onClick:T,isDisabled:!I,icon:(0,Z.jsx)(s.w,{h:6,w:6})})})]}),(0,Z.jsxs)(m.k,{alignItems:"center",children:[(0,Z.jsxs)(j.x,{flexShrink:"0",mr:8,children:["Page"," ",(0,Z.jsx)(j.x,{fontWeight:"bold",as:"span",children:F+1})," ","of"," ",(0,Z.jsx)(j.x,{fontWeight:"bold",as:"span",children:A.length})]}),(0,Z.jsx)(j.x,{flexShrink:"0",children:"Go to page:"})," ",(0,Z.jsxs)(b.Y2,{ml:2,h:"30px",mr:8,w:28,min:1,max:A.length,onChange:function(e){O(e?e-1:0)},defaultValue:F+1,children:[(0,Z.jsx)(b.zu,{h:"30px"}),(0,Z.jsxs)(b.Fi,{children:[(0,Z.jsx)(b.WQ,{}),(0,Z.jsx)(b.Y_,{})]})]}),(0,Z.jsx)(g.P,{w:32,fontSize:"14px",h:"30px",value:R,onChange:function(e){z(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return(0,Z.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]}),(0,Z.jsxs)(m.k,{children:[(0,Z.jsx)(p.u,{h:"30px",label:"Next Page",children:(0,Z.jsx)(f.h,{h:"30px",onClick:M,isDisabled:!S,icon:(0,Z.jsx)(i.X,{h:6,w:6})})}),(0,Z.jsx)(p.u,{h:"30px",label:"Last Page",children:(0,Z.jsx)(f.h,{h:"30px",onClick:function(){return O(N-1)},isDisabled:!S,icon:(0,Z.jsx)(c.L,{h:3,w:3}),ml:4})})]})]})]})}},2044:function(e,n,t){t.r(n),t.d(n,{default:function(){return Y}});var r=t(4165),a=t(5861),s=t(1413),i=t(9439),c=t(6636),o=t(7727),l=t(7939),u=t(1396),d=t(8504),h=t.n(d),x=t(7313),m=t(5554),p=t(4491),f=t(1103),j=t(2190),b=t(8816),g=t(5784),v=t(6459),Z=t(5987),C=t(6763),P=t(5477),k=t(1898),y=t(9633),E=t(794),w=t(3241),I=t(5059),S=t(5394),A=t(5622),N=t(2916),O=t(9637),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return e.name||(n.name="Please enter merchant's name"),e.contactEmail&&(0,O.vV)(e.contactEmail)||(n.contactEmail="Please enter a valid Email!"),e.contactMobileNumber||(n.contactMobileNumber="Please enter valid mobile number!"),e.contactPersonName||(n.contactPersonName="Please enter name of merchant's representative!"),e.description&&e.description.length>500&&(n.description="Description should be less than 500 characters!"),n},T=t(6417),z=["name"],D=["input","meta"],F=function(e){var n=e.name,t=(0,Z.Z)(e,z),r=(0,A.U$)(n,{subscription:{touched:!0,error:!0}}).meta,a=r.error,i=r.touched;return(0,T.jsx)(C.NI,(0,s.Z)((0,s.Z)({},t),{},{isInvalid:a&&i}))},R=function(e){var n=e.input,t=e.meta,r=(0,Z.Z)(e,D);return(0,T.jsx)(P.g,(0,s.Z)((0,s.Z)((0,s.Z)({},n),r),{},{isInvalid:t.error&&t.touched}))},V=function(e){var n=e.name,t=e.label;return(0,T.jsxs)(F,{name:n,my:4,children:[(0,T.jsx)(k.l,{htmlFor:n,children:t}),(0,T.jsx)(A.gN,{name:n,component:R,placeholder:t,id:n}),(0,T.jsx)(W,{name:n})]})},H=function(e){var n=e.name,t=e.label,r=(0,A.U$)(n,{type:"checkbox"}),a=Object.assign({},((0,v.Z)(r.input),r.input)),i=r.meta,c=i.touched,o=i.invalid;return(0,T.jsxs)(C.NI,{display:"flex",alignItems:"center",children:[(0,T.jsx)(k.l,{htmlFor:"email-alerts",mb:"0",children:t}),(0,T.jsx)(y.r,(0,s.Z)((0,s.Z)({},a),{},{isChecked:a.checked,isInvalid:c&&o}))]})},W=function(e){var n=e.name,t=(0,A.U$)(n,{subscription:{error:!0}}).meta.error;return(0,T.jsx)(E.J1,{children:t})},U=function(e){var n=e.name,t=e.label,r=e.readOnly,a=e.rightElement,i=(0,A.U$)(n),c=i.input,o=i.meta,l=function(){return a};return(0,T.jsxs)(F,{name:n,my:4,children:[(0,T.jsx)(k.l,{htmlFor:n,children:t}),(0,T.jsxs)(u.k,{alignItems:"center",children:[(0,T.jsx)(w.I,(0,s.Z)((0,s.Z)({},c),{},{isInvalid:o.error&&o.touched,id:n,placeholder:t,readOnly:r})),!!a&&(0,T.jsx)(l,{})]}),(0,T.jsx)(W,{name:n})]})},K=function(e){var n=e.text;return(0,T.jsx)(o.z,{ml:"1",fontSize:"xl",onClick:function(){(0,O.vQ)(n)},children:(0,T.jsx)(N.C3L,{"aria-label":"copy"})})},L=function(e){var n=e.onSubmit,t=e.isEdit,r=e.values,a=e.onModalClose;return(0,T.jsx)(A.l0,{initialValues:r,onSubmit:n,validate:M,render:function(e){var n=e.handleSubmit,r=e.form,s=e.submitting,i=e.pristine,c=e.values;return(0,T.jsxs)(l.xu,{as:"form",p:4,bg:"white",borderWidth:"1px",borderRadius:"lg",boxShadow:"1px 1px 3px rgba(0,0,0,0.3)",onSubmit:n,children:[t&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(U,{name:"apiKey",label:"API Key",readOnly:!0,rightElement:(0,T.jsx)(K,{text:c.apiKey})}),(0,T.jsx)(U,{name:"password",label:"Dashboard Password",readOnly:!0,rightElement:(0,T.jsx)(K,{text:c.password})}),(0,T.jsx)(U,{name:"merchantKey",label:"Merchant Key",readOnly:!0,rightElement:(0,T.jsx)(K,{text:c.merchantKey})}),(0,T.jsx)(U,{name:"merchantPassphrase",label:"Merchant Passphrase",readOnly:!0,rightElement:(0,T.jsx)(K,{text:c.merchantPassphrase})})]}),(0,T.jsx)(I.X,{color:"gray.800",as:"h1",size:t?"lg":"xl",textAlign:"center",children:t?"Edit Merchant Info":"Add Merchant"}),(0,T.jsx)(U,{name:"name",label:"Merchant's Name"}),(0,T.jsx)(U,{name:"contactEmail",label:"Email"}),(0,T.jsx)(U,{name:"contactMobileNumber",label:"Mobile Number"}),(0,T.jsx)(U,{name:"contactPersonName",label:"Contact Person Name"}),(0,T.jsx)(V,{name:"description",label:"Description"}),t&&(0,T.jsx)(H,{name:"isActive",label:"Is Active?"}),(0,T.jsxs)(S.h,{spacing:4,mt:"4",children:[(0,T.jsx)(o.z,{isLoading:s,loadingText:"Submitting",variantColor:"teal",type:"submit",children:t?"Update":"Submit"}),(0,T.jsx)(o.z,{variantColor:"teal",variant:"outline",onClick:r.reset,isDisabled:s||i,children:"Reset"}),(0,T.jsx)(o.z,{type:"button",variantColor:"red",onClick:a,isDisabled:s,children:"Close"})]})]})}})},G=function(e){var n=e.isOpen,t=e.onClose,r=e.data,a=e.onEditSubmit,s=e.isEdit,i=void 0===s||s,c=(0,x.useRef)(null),o=(0,x.useRef)(null);return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(j.u_,{initialFocusRef:c,closeOnOverlayClick:!1,finalFocusRef:o,isOpen:n,onClose:t,children:[(0,T.jsx)(b.Z,{}),(0,T.jsx)(g.h,{children:(0,T.jsx)(L,{isEdit:i,onModalClose:t,onSubmit:a,values:i?r:{}})})]})})},$=t(5503),q=t(7522),Y=function(){var e=(0,m.I0)(),n=(0,c.q)(),t=n.isOpen,d=n.onOpen,j=n.onClose,b=(0,m.v9)((function(e){return e.common})).merchants,g=(0,x.useState)(null),v=(0,i.Z)(g,2),Z=v[0],C=v[1],P=(0,x.useState)(!1),k=(0,i.Z)(P,2),y=k[0],E=k[1];(0,x.useEffect)((function(){(0,q.jP)().then((function(n){var t=n.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:e.isActive?"ACTIVE":"INACTIVE"})}));e((0,$.ZE)(t))}))}),[e]);var w=(0,x.useCallback)((function(e){return function(){E(!0),C(e),d()}}),[d]),I=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a,s,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={},Object.keys(Z).forEach((function(e){Z[e]!==t[e]&&(a[e]=t[e])})),n.next=4,(0,q.Dn)(Z.id,a);case 4:200===n.sent.status?(s=h()(b),i=s.findIndex((function(e){return e.id===Z.id})),s[i]=t,s[i].status=t.isActive?"ACTIVE":"INACTIVE",e((0,$.ZE)(s)),p.Am.success("Merchant Info Updated Successfully")):p.Am.error("Something Went Wrong!");case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),S=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,q.qe)(t);case 2:200===(a=n.sent).status?(p.Am.success("Merchant Added Successfully"),(0,q.jP)().then((function(n){var t=n.findIndex((function(e){return e.id===a.data.responseData.id})),r=n.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{status:e.isActive?"ACTIVE":"INACTIVE"})}));C(r[t]),E(!0),e((0,$.ZE)(r))}))):p.Am.error("Something Went Wrong!");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),A=(0,x.useMemo)((function(){return[{Header:"Name",accessor:"name"},{Header:"Representative",accessor:"contactPersonName"},{Header:"Email",accessor:"contactEmail"},{Header:"MOBILE",accessor:"contactMobileNumber"},{Header:"STATUS",accessor:"status"},{Header:"",accessor:"id",Cell:function(e){var n=e.cell;return(0,T.jsx)(o.z,{onClick:w(n.row.original),variant:"link",children:"View"})}}]}),[w]);return(0,T.jsxs)(l.xu,{p:{base:"4",md:"6"},children:[(0,T.jsxs)(l.xu,{children:[(0,T.jsx)(u.k,{justifyContent:"flex-end",mb:"4",onClick:d,children:(0,T.jsx)(o.z,{onClick:function(){E(!1),d()},type:"button",children:"Add Merchant"})}),(0,T.jsx)(l.xu,{borderWidth:"thin",borderColor:"GrayText",padding:"4",borderRadius:"lg",bg:"white",width:"100%",children:(0,T.jsx)(f.Z,{columns:A,data:b})})]}),(0,T.jsx)(G,{isEdit:y,isOpen:t,onOpen:d,onClose:function(){j(),C(null)},data:Z,onEditSubmit:y?I:S})]})}},7522:function(e,n,t){t.d(n,{Dn:function(){return o},jP:function(){return i},qe:function(){return c}});var r=t(4165),a=t(5861),s=t(2140),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.x1.get("/merchant");case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data.responseData||[]);case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(e){return s.x1.post("/merchant",e)},o=function(e,n){return s.x1.put("/merchant/".concat(e),n)}}}]);