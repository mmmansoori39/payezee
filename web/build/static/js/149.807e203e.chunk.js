"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[149],{1149:function(e,t,o){o.r(t);var n=o(9439),r=o(6636),a=o(4722),s=o(7727),c=o(7939),i=o(1396),l=o(4320),d=o(5515),u=o(658),h=o.n(u),p=o(7313),m=o(5554),x=o(1103),f=o(2355),v=o(2106),g=o(5503),C=o(9566),w=o(1805),b=o(2814),j=o(9637),y=o(2916),D=o(6417),A=[null,new Date];t.default=function(){var e=(0,p.useState)("deposit"),t=(0,n.Z)(e,2),o=t[0],u=t[1],k=(0,p.useState)(A),E=(0,n.Z)(k,2),P=E[0],S=E[1],H=(0,m.I0)(),N=(0,m.v9)((function(e){return e.common})),T=N.deposits,I=N.loading,M=N.cashouts,R=N.user,B=(0,p.useState)(null),O=(0,n.Z)(B,2),Z=O[0],K=O[1],z=(0,r.q)(),L=z.isOpen,Y=z.onOpen,G=z.onClose;(0,p.useEffect)((function(){2===P.length&&("deposit"===o&&(H((0,g.K4)(!0)),(0,C.AS)({selectedDates:P}).then((function(e){H((0,g.Jh)(e)),H((0,g.K4)(!1))}))),"cashout"===o&&(H((0,g.K4)(!0)),(0,C._9)({selectedDates:P}).then((function(e){H((0,g.wK)(e)),H((0,g.K4)(!1))}))))}),[H,o,P]);var W=(0,p.useCallback)((function(e){return function(){K(e),Y()}}),[Y]),_=(0,p.useMemo)((function(){return[{Header:"Created on",accessor:"createdAt",Cell:function(e){var t=e.row.original.createdAt;return(0,D.jsxs)("div",{style:{textAlign:"end"},children:[h()(t).format("hh:mm A"),(0,D.jsx)("br",{}),h()(t).format("D MMMM  YYYY")]})}},{Header:"Invoice ID",accessor:"invoiceId"},{Header:"Merchant Name",accessor:"merchant.name"},{Header:"Name",accessor:"payer.firstName",Cell:function(e){var t=e.row.original.payer;return"".concat(t.firstName," ").concat(t.lastName)}},{Header:"Amount",accessor:"amount",Cell:function(e){var t=e.row.original,o=t.currency,n=t.amount;return"".concat(o," ").concat(n)}},{Header:"Address",accessor:"payer.address.city",Cell:function(e){var t,o,n,r,s=e.row.original.payer;return(0,D.jsx)(a.x,{maxWidth:"200px",w:"max-content",children:"".concat(null===s||void 0===s||null===(t=s.address)||void 0===t?void 0:t.street,", ").concat(null===s||void 0===s||null===(o=s.address)||void 0===o?void 0:o.city,", \n ").concat(null===s||void 0===s||null===(n=s.address)||void 0===n?void 0:n.zipCode,", ").concat(null===s||void 0===s||null===(r=s.address)||void 0===r?void 0:r.state)})}},{Header:"STATUS",accessor:"status",Cell:function(e){var t=e.row.original.status,o=t===w.HA.PENDING?"#D69E2E":t===w.HA.REJECTED?"#E53E3E":t===w.HA.COMPLETED?"#38A169":"blue.500";return(0,D.jsx)(a.x,{as:"span",bg:o,color:"white",p:"1",borderRadius:"md",children:String(t).toUpperCase()})}},{Header:"",accessor:"id",Cell:function(e){var t=e.cell;return(0,D.jsx)(s.z,{onClick:W(t.row.original),variant:"link",children:"View"})}}]}),[W]),F="deposit"===o?T:M,J=(0,p.useMemo)((function(){var e=0;return F.forEach((function(t){t.status===w.HA.COMPLETED&&(e+=t.amount)})),e}),[F]);return(0,D.jsxs)(c.xu,{p:{base:"4",md:"6"},children:[(0,D.jsxs)(i.k,{alignItems:"center",w:"100%",justifyContent:"flex-start",mb:"4",children:[(0,D.jsx)(c.xu,{children:(0,D.jsx)(d.ou,{propsConfigs:{dayOfMonthBtnProps:{defaultBtnProps:{_hover:{background:"teal",color:"white"}},selectedBtnProps:{background:"teal",color:"white"},isInRangeBtnProps:{background:"teal",color:"white"},todayBtnProps:{colorScheme:"teal"}},popoverCompProps:{popoverContentProps:{colorScheme:"teal"},popoverBodyProps:{colorScheme:"teal"}},dateNavBtnProps:{colorScheme:"teal"}},maxDate:new Date,selectedDates:P,onDateChange:S})}),(0,D.jsx)(s.z,{ml:"3",type:"button",colorScheme:"teal",onClick:function(){S(A)},children:"Reset"}),(0,D.jsxs)(b.P,{ml:"3",w:"max-content",onChange:function(e){u(e.currentTarget.value)},value:o,children:[(0,D.jsx)("option",{value:"deposit",defaultChecked:!0,children:"Deposit"}),(0,D.jsx)("option",{value:"cashout",children:"Cashout"})]}),(0,D.jsxs)(a.x,{ml:"8",children:[(0,D.jsxs)(a.x,{as:"span",fontWeight:"semibold",children:["deposit"===o?"Collected":"Paid out"," Amount:"," "]}),(0,D.jsx)(a.x,{as:"span",w:"100%",fontSize:"xl",children:Number(J).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})})]}),(0,D.jsx)(l.u,{label:"Download Report",children:(0,D.jsx)(c.xu,{onClick:function(){(0,C.IA)({selectedDates:P,transactionType:o}).then((function(e){null!==e&&void 0!==e&&e.url&&(0,j.Sv)(e.url)}))},borderRadius:4,shadow:"md",p:"2",bg:"white",cursor:"pointer",ml:"4",children:(0,D.jsx)(y._hL,{height:24,width:24})})})]}),!!F.length&&(0,D.jsx)(c.xu,{borderWidth:"thin",borderColor:"GrayText",padding:"4",borderRadius:"lg",bg:"white",width:"100%",children:(0,D.jsx)(x.Z,{columns:_,data:F})}),!F.length&&!I&&(0,D.jsx)(f.Z,{showCTA:R.type===w.vf.ADMIN,title:"No Record Found",description:"The records you're looking for does not seem to exist",ctaTitle:"Go to Home",ctaPath:"/"}),(0,D.jsx)(v.Z,{isOpen:L,onClose:G,data:Z,isReadonly:!0,transactionType:o})]})}}}]);