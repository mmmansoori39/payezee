"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[973],{6973:function(t,e,n){n.r(e);var r=n(1413),a=n(9439),o=n(7939),c=n(4722),u=n(1898),s=n(2814),i=n(7727),l=n(5515),d=n(7313),p=n(2916),h=n(9566),f=n(9637),m=n(7522),v=n(5503),x=n(5554),b=n(6417),g=[null,new Date],_="all";e.default=function(){var t=(0,x.I0)(),e=(0,d.useState)(g),n=(0,a.Z)(e,2),w=n[0],Z=n[1],j=(0,d.useState)("deposit"),D=(0,a.Z)(j,2),k=D[0],S=D[1],y=(0,x.v9)((function(t){return t.common})).merchants,I=(0,d.useState)(_),C=(0,a.Z)(I,2),P=C[0],N=C[1];(0,d.useEffect)((function(){(0,m.jP)().then((function(e){var n=e.map((function(t){return(0,r.Z)((0,r.Z)({},t),{},{status:t.isActive?"ACTIVE":"INACTIVE"})}));t((0,v.ZE)(n))}))}),[t]);return(0,b.jsx)(o.xu,{pb:"10",children:(0,b.jsxs)(o.xu,{bg:"white",maxW:600,p:"6",borderRadius:"xl",margin:"auto",mt:"10",children:[(0,b.jsx)(c.x,{as:"h1",mb:"4",fontSize:"lg",fontWeight:"semibold",children:"Download Report"}),(0,b.jsxs)(o.xu,{mb:"6",children:[(0,b.jsx)(u.l,{children:"Select Date Range"}),(0,b.jsx)(l.ou,{propsConfigs:{dayOfMonthBtnProps:{defaultBtnProps:{_hover:{background:"teal",color:"white"}},selectedBtnProps:{background:"teal",color:"white"},isInRangeBtnProps:{background:"teal",color:"white"},todayBtnProps:{colorScheme:"teal"}},popoverCompProps:{popoverContentProps:{colorScheme:"teal"},popoverBodyProps:{colorScheme:"teal"}},dateNavBtnProps:{colorScheme:"teal"}},maxDate:new Date,selectedDates:w,onDateChange:Z})]}),(0,b.jsx)(u.l,{children:"Select Transaction Type"}),(0,b.jsxs)(s.P,{mb:"6",onChange:function(t){S(t.currentTarget.value)},value:k,children:[(0,b.jsx)("option",{value:"deposit",defaultChecked:!0,children:"Deposit"}),(0,b.jsx)("option",{value:"cashout",children:"Cashout"})]})," ",(0,b.jsx)(u.l,{children:"Select Merchant"}),(0,b.jsxs)(s.P,{mb:"6",onChange:function(t){N(t.currentTarget.value)},value:P,children:[(0,b.jsx)("option",{value:_,children:"all merchants"}),(null===y||void 0===y?void 0:y.length)&&y.map((function(t){return(0,b.jsx)("option",{value:t.id,children:t.name},t.id)}))]}),(0,b.jsx)(i.z,{mb:"6",type:"button",colorScheme:"teal",onClick:function(){Z(g),S("deposit"),N(_)},children:"Reset"}),(0,b.jsxs)(i.z,{mb:"6",onClick:function(){(0,h.IA)({selectedDates:w,transactionType:k,merchantId:P===_?null:P}).then((function(t){null!==t&&void 0!==t&&t.url&&(0,f.Sv)(t.url)}))},borderRadius:4,shadow:"md",cursor:"pointer",ml:"4",children:[(0,b.jsx)(p._hL,{height:24,width:24})," Download"]})]})})}},7522:function(t,e,n){n.d(e,{Dn:function(){return s},jP:function(){return c},qe:function(){return u}});var r=n(4165),a=n(5861),o=n(2140),c=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.x1.get("/merchant");case 2:if(200!==(e=t.sent).status){t.next=5;break}return t.abrupt("return",e.data.responseData||[]);case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(t){return o.x1.post("/merchant",t)},s=function(t,e){return o.x1.put("/merchant/".concat(t),e)}},9566:function(t,e,n){n.d(e,{AS:function(){return c},IA:function(){return u},_9:function(){return s},gi:function(){return i},l7:function(){return l},n6:function(){return d},pw:function(){return p},xl:function(){return h}});var r=n(4165),a=n(5861),o=n(2140),c=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n,a,c,u,s,i,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.selectedDates,a=void 0===n?[]:n,c=e.merchantId,u=[],a[0]&&a[1]&&(s=new Date(a[0]),i=new Date(a[1]),s.setHours(0,0,0),i.setHours(23,59,59),u.push("created_at_gte=".concat(s.toString())),u.push("created_at_lte=".concat(i.toString()))),c&&u.push("merchant_id=".concat(c)),t.next=6,o.x1.get("/deposit?".concat(u.join("&")));case 6:if(200!==(l=t.sent).status){t.next=9;break}return t.abrupt("return",l.data.responseData||[]);case 9:return t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n,a,c,u,s,i,l,d,p,h,f;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.selectedDates,a=void 0===n?[]:n,c=e.transactionType,u=void 0===c?"deposit":c,s=e.merchantId,i=void 0===s?null:s,l=[],a[0]&&a[1]&&(d=new Date(a[0]),p=new Date(a[1]),d.setHours(0,0,0),p.setHours(23,59,59),l.push("created_at_gte=".concat(d.toString())),l.push("created_at_lte=".concat(p.toString()))),u&&l.push("transaction_type=".concat(u)),i&&l.push("merchant_id=".concat(i)),t.next=7,o.x1.get("/generate-report?".concat(l.join("&")));case 7:if(200!==(h=t.sent).status){t.next=10;break}return t.abrupt("return",(null===h||void 0===h||null===(f=h.data)||void 0===f?void 0:f.responseData)||null);case 10:return t.abrupt("return",null);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n,a,c,u,s,i,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.selectedDates,a=void 0===n?[]:n,c=e.merchantId,u=[],a[0]&&a[1]&&(s=new Date(a[0]),i=new Date(a[1]),s.setHours(0,0,0),i.setHours(23,59,59),u.push("created_at_gte=".concat(s.toString())),u.push("created_at_lte=".concat(i.toString()))),c&&u.push("merchant_id=".concat(c)),t.next=6,o.x1.get("/cashout?".concat(u.join("&")));case 6:if(200!==(l=t.sent).status){t.next=9;break}return t.abrupt("return",l.data.responseData||[]);case 9:return t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n,a,c,u,s,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.selectedDates,a=void 0===n?[]:n,c=e.merchantId,u=void 0===c?null:c,s=[],a[0]&&a[1]&&(s.push("created_at_gte=".concat(a[0])),s.push("created_at_lte=".concat(a[1]))),u&&s.push("merchant_id=".concat(u)),t.next=6,o.x1.get("/getPaymentsByCityAndStatus?".concat(s.join("&")));case 6:if(200!==(i=t.sent).status){t.next=9;break}return t.abrupt("return",i.data.responseData||{});case 9:return t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(t,e,n){var r={status:e};return n&&(r.comment=n),o.x1.put("/deposit/".concat(t),r)},d=function(t,e){return o.x1.put("/deposit/deleteComment/".concat(t,"/").concat(e))},p=function(t,e){return o.x1.put("/cashout/deleteComment/".concat(t,"/").concat(e))},h=function(t,e,n){var r={status:e};return n&&(r.comment=n),o.x1.put("/cashout/".concat(t),r)}},1898:function(t,e,n){n.d(e,{l:function(){return h}});var r=n(1413),a=n(5987),o=n(6763),c=n(1544),u=n(465),s=n(1877),i=n(7632),l=n(5893),d=n(6417),p=["className","children","requiredIndicator","optionalIndicator"],h=(0,c.G)((function(t,e){var n,c=(0,u.mq)("FormLabel",t),h=(0,s.Lr)(t),m=(h.className,h.children),v=h.requiredIndicator,x=void 0===v?(0,d.jsx)(f,{}):v,b=h.optionalIndicator,g=void 0===b?null:b,_=(0,a.Z)(h,p),w=(0,o.NJ)(),Z=null!=(n=null==w?void 0:w.getLabelProps(_,e))?n:(0,r.Z)({ref:e},_);return(0,d.jsxs)(i.m.label,(0,r.Z)((0,r.Z)({},Z),{},{className:(0,l.cx)("chakra-form__label",h.className),__css:(0,r.Z)({display:"block",textAlign:"start"},c),children:[m,(null==w?void 0:w.isRequired)?x:g]}))}));h.displayName="FormLabel";var f=(0,c.G)((function(t,e){var n=(0,o.NJ)(),a=(0,o.e)();if(!(null==n?void 0:n.isRequired))return null;var c=(0,l.cx)("chakra-form__required-indicator",t.className);return(0,d.jsx)(i.m.span,(0,r.Z)((0,r.Z)({},null==n?void 0:n.getRequiredIndicatorProps(t,e)),{},{__css:a.requiredIndicator,className:c}))}));f.displayName="RequiredIndicator"}}]);